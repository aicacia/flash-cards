import{S as t,i as s,s as a,G as e,x as c,y as n,p as o,f as r,D as d,E as i,d as l,C as u,H as p,F as f,n as $,o as h,j as b,r as m,k as y,u as v,z as E,P as k,e as g,c as I,a as T,l as _,Q as x,g as w,L as O,J as B,I as D,t as j,q as N,b as V,O as C}from"../../../../../chunks/index-4d8bfc51.js";import{r as U}from"../../../../../chunks/singletons-dd9f995d.js";import{u as A,b as R,e as H}from"../../../../../chunks/decks-03deb0ad.js";import{_ as S}from"../../../../../chunks/preload-helper-9f12a5fd.js";import{R as F}from"../../../../../chunks/Root-473887a8.js";const J=async function(t,s){return U.goto(t,s,[])};const L=t=>({commands:1&t,active:32&t,selection:64&t,focus:128&t}),P=t=>({commands:t[0].commands,active:t[5],selection:t[6],focus:t[7]});function q(t){let s;const a=t[10].default,o=f(a,t,t[9],P);return{c(){o&&o.c()},l(t){o&&o.l(t)},m(t,a){o&&o.m(t,a),s=!0},p(t,s){o&&o.p&&737&s&&e(o,a,t,t[9],s,L,P)},i(t){s||(c(o,t),s=!0)},o(t){n(o,t),s=!1},d(t){o&&o.d(t)}}}function z(t){let s,a,e=t[0]&&t[1]&&q(t);return{c(){e&&e.c(),s=o()},l(t){e&&e.l(t),s=o()},m(t,c){e&&e.m(t,c),r(t,s,c),a=!0},p(t,[a]){t[0]&&t[1]?e?(e.p(t,a),3&a&&c(e,1)):(e=q(t),e.c(),c(e,1),e.m(s.parentNode,s)):e&&(d(),n(e,1,1,(()=>{e=null})),i())},i(t){a||(c(e),a=!0)},o(t){n(e),a=!1},d(t){e&&e.d(t),t&&l(s)}}}function G(t,s,a){let e,c,n,o=$,r=$,d=$;t.$$.on_destroy.push((()=>o())),t.$$.on_destroy.push((()=>r())),t.$$.on_destroy.push((()=>d()));let i,l,f,h,{$$slots:b={},$$scope:m}=s,{editor:y}=s,v=!1;return u((async()=>{const{editorStores:t}=await S((()=>import("../../../../../chunks/stores-0eec33c2.js").then((function(t){return t.s}))),["/_app/chunks/stores-0eec33c2.js","/_app/chunks/decks-03deb0ad.js","/_app/chunks/index-33760531.js","/_app/chunks/index-4d8bfc51.js"]),{active:s,selection:u,focus:$,updateEditor:b}=t(y);a(2,i=s),o(),o=p(i,(t=>a(5,e=t))),a(3,l=u),r(),r=p(l,(t=>a(6,c=t))),a(4,f=$),d(),d=p(f,(t=>a(7,n=t))),a(8,h=b),a(1,v=!0)})),t.$$set=t=>{"editor"in t&&a(0,y=t.editor),"$$scope"in t&&a(9,m=t.$$scope)},t.$$.update=()=>{257&t.$$.dirty&&y&&h&&h(y)},[y,v,i,l,f,e,c,n,h,m,b]}class Q extends t{constructor(t){super(),s(this,t,G,z,a,{editor:0})}}function K(t){let s,a,e,c,n,o,d,i,u,p,f,$,h,m,v,E,k,j,N,V,C,U;return{c(){s=g("div"),a=g("button"),e=g("i"),c=b(),n=g("button"),o=g("i"),d=b(),i=g("button"),u=g("i"),p=b(),f=g("button"),$=g("i"),h=b(),m=g("button"),v=g("i"),k=b(),j=g("button"),N=g("i"),this.h()},l(t){s=I(t,"DIV",{class:!0});var r=T(s);a=I(r,"BUTTON",{type:!0,class:!0});var b=T(a);e=I(b,"I",{class:!0}),T(e).forEach(l),b.forEach(l),c=y(r),n=I(r,"BUTTON",{type:!0,class:!0});var E=T(n);o=I(E,"I",{class:!0}),T(o).forEach(l),E.forEach(l),d=y(r),i=I(r,"BUTTON",{type:!0,class:!0});var g=T(i);u=I(g,"I",{class:!0}),T(u).forEach(l),g.forEach(l),p=y(r),f=I(r,"BUTTON",{type:!0,class:!0});var _=T(f);$=I(_,"I",{class:!0}),T($).forEach(l),_.forEach(l),h=y(r),m=I(r,"BUTTON",{type:!0,class:!0,disabled:!0});var x=T(m);v=I(x,"I",{class:!0}),T(v).forEach(l),x.forEach(l),k=y(r),j=I(r,"BUTTON",{type:!0,class:!0,disabled:!0});var w=T(j);N=I(w,"I",{class:!0}),T(N).forEach(l),w.forEach(l),r.forEach(l),this.h()},h(){_(e,"class","bi-type-h2"),_(a,"type","button"),_(a,"class","btn btn-secondary btn-sm"),x(a,"active",2===t[7].header),_(o,"class","bi-type-h1"),_(n,"type","button"),_(n,"class","btn btn-secondary btn-sm"),x(n,"active",3===t[7].header),_(u,"class","bi-type-bold"),_(i,"type","button"),_(i,"class","btn btn-secondary btn-sm"),x(i,"active",t[7].bold),_($,"class","bi-type-italic"),_(f,"type","button"),_(f,"class","btn btn-secondary btn-sm"),x(f,"active",t[7].italic),_(v,"class","bi-type-bold"),_(m,"type","button"),_(m,"class","btn btn-secondary btn-sm"),m.disabled=E=!t[7].undo,_(N,"class","bi-type-bold"),_(j,"type","button"),_(j,"class","btn btn-secondary btn-sm"),j.disabled=V=!t[7].redo,_(s,"class","btn-group d-inline")},m(l,b){r(l,s,b),w(s,a),w(a,e),w(s,c),w(s,n),w(n,o),w(s,d),w(s,i),w(i,u),w(s,p),w(s,f),w(f,$),w(s,h),w(s,m),w(m,v),w(s,k),w(s,j),w(j,N),C||(U=[O(a,"click",(function(){B(t[8].header2)&&t[8].header2.apply(this,arguments)})),O(n,"click",(function(){B(t[8].header3)&&t[8].header3.apply(this,arguments)})),O(i,"click",(function(){B(t[8].bold)&&t[8].bold.apply(this,arguments)})),O(f,"click",(function(){B(t[8].italic)&&t[8].italic.apply(this,arguments)})),O(m,"click",(function(){B(t[8].undo)&&t[8].undo.apply(this,arguments)})),O(j,"click",(function(){B(t[8].redo)&&t[8].redo.apply(this,arguments)}))],C=!0)},p(s,e){t=s,128&e&&x(a,"active",2===t[7].header),128&e&&x(n,"active",3===t[7].header),128&e&&x(i,"active",t[7].bold),128&e&&x(f,"active",t[7].italic),128&e&&E!==(E=!t[7].undo)&&(m.disabled=E),128&e&&V!==(V=!t[7].redo)&&(j.disabled=V)},d(t){t&&l(s),C=!1,D(U)}}}function M(t){let s,a,e,o;return s=new Q({props:{editor:t[0],$$slots:{default:[K,({active:t,commands:s})=>({7:t,8:s}),({active:t,commands:s})=>(t?128:0)|(s?256:0)]},$$scope:{ctx:t}}}),e=new F({props:{editor:t[0]}}),{c(){h(s.$$.fragment),a=b(),h(e.$$.fragment)},l(t){m(s.$$.fragment,t),a=y(t),m(e.$$.fragment,t)},m(t,c){v(s,t,c),r(t,a,c),v(e,t,c),o=!0},p(t,[a]){const c={};1&a&&(c.editor=t[0]),896&a&&(c.$$scope={dirty:a,ctx:t}),s.$set(c);const n={};1&a&&(n.editor=t[0]),e.$set(n)},i(t){o||(c(s.$$.fragment,t),c(e.$$.fragment,t),o=!0)},o(t){n(s.$$.fragment,t),n(e.$$.fragment,t),o=!1},d(t){E(s,t),t&&l(a),E(e,t)}}}function W(t,s,a){let e,c,{delta:n}=s;const o=k();let r,d;return u((async()=>{const{Editor:t,Delta:s,TextDocument:c}=await S((()=>import("../../../../../chunks/index-dbdc0e67.js").then((function(t){return t.i}))),["/_app/chunks/index-dbdc0e67.js","/_app/chunks/decks-03deb0ad.js","/_app/chunks/stores-0eec33c2.js","/_app/chunks/index-33760531.js","/_app/chunks/index-4d8bfc51.js"]);a(0,e=new t),r=s,d=c,n&&e.set(new c(new s(n.ops))),e.on("change",(t=>{o("change",t)}))})),t.$$set=t=>{"delta"in t&&a(1,n=t.delta)},t.$$.update=()=>{var s;2&t.$$.dirty&&(s=n,e&&s!==c&&(c=s,e.set(new d(new r(s.ops)))))},[e,n]}class X extends t{constructor(t){super(),s(this,t,W,M,a,{delta:1})}}function Y(t){let s,a,e,o,d,i,u,p,f,$,k,x,B,D,C,U,A,R,H,S,F,J,L,P,q,z,G,Q;return document.title=s="Edit Card "+t[1],D=new X({props:{delta:t[2]}}),D.$on("change",t[4]),F=new X({props:{delta:t[3]}}),F.$on("change",t[5]),{c(){a=b(),e=g("div"),o=g("a"),d=j("Back"),u=b(),p=g("div"),f=g("div"),$=g("div"),k=g("h3"),x=j("Front"),B=b(),h(D.$$.fragment),C=b(),U=g("hr"),A=b(),R=g("h3"),H=j("Back"),S=b(),h(F.$$.fragment),J=b(),L=g("div"),P=g("button"),q=j("Create Another Card"),this.h()},l(t){N('[data-svelte="svelte-i8njg4"]',document.head).forEach(l),a=y(t),e=I(t,"DIV",{class:!0});var s=T(e);o=I(s,"A",{type:!0,class:!0,href:!0});var c=T(o);d=V(c,"Back"),c.forEach(l),s.forEach(l),u=y(t),p=I(t,"DIV",{class:!0});var n=T(p);f=I(n,"DIV",{class:!0});var r=T(f);$=I(r,"DIV",{class:!0});var i=T($);k=I(i,"H3",{});var h=T(k);x=V(h,"Front"),h.forEach(l),B=y(i),m(D.$$.fragment,i),C=y(i),U=I(i,"HR",{class:!0}),A=y(i),R=I(i,"H3",{});var b=T(R);H=V(b,"Back"),b.forEach(l),S=y(i),m(F.$$.fragment,i),i.forEach(l),r.forEach(l),n.forEach(l),J=y(t),L=I(t,"DIV",{class:!0});var v=T(L);P=I(v,"BUTTON",{type:!0,class:!0});var E=T(P);q=V(E,"Create Another Card"),E.forEach(l),v.forEach(l),this.h()},h(){_(o,"type","button"),_(o,"class","btn btn-primary"),_(o,"href",i=`/decks/${t[0]}/edit`),_(e,"class","mt-2 mb-2"),_(U,"class","mt-2 mb-2"),_($,"class","col-md-6"),_(f,"class","row d-flex justify-content-center"),_(p,"class","container"),_(P,"type","button"),_(P,"class","btn btn-primary float-end"),_(L,"class","mt-2 clearfix")},m(s,c){r(s,a,c),r(s,e,c),w(e,o),w(o,d),r(s,u,c),r(s,p,c),w(p,f),w(f,$),w($,k),w(k,x),w($,B),v(D,$,null),w($,C),w($,U),w($,A),w($,R),w(R,H),w($,S),v(F,$,null),r(s,J,c),r(s,L,c),w(L,P),w(P,q),z=!0,G||(Q=O(P,"click",t[6]),G=!0)},p(t,[a]){(!z||2&a)&&s!==(s="Edit Card "+t[1])&&(document.title=s),(!z||1&a&&i!==(i=`/decks/${t[0]}/edit`))&&_(o,"href",i);const e={};4&a&&(e.delta=t[2]),D.$set(e);const c={};8&a&&(c.delta=t[3]),F.$set(c)},i(t){z||(c(D.$$.fragment,t),c(F.$$.fragment,t),z=!0)},o(t){n(D.$$.fragment,t),n(F.$$.fragment,t),z=!1},d(t){t&&l(a),t&&l(e),t&&l(u),t&&l(p),E(D),E(F),t&&l(J),t&&l(L),G=!1,Q()}}}async function Z(t){return{props:t.page.params}}function tt(t,s,a){let e,c;C(t,H,(t=>a(9,c=t)));let n,o,{deckId:r}=s,{cardId:d}=s,i=!1;return t.$$set=t=>{"deckId"in t&&a(0,r=t.deckId),"cardId"in t&&a(1,d=t.cardId)},t.$$.update=()=>{514&t.$$.dirty&&a(8,e=c.table.byId(d)),384&t.$$.dirty&&e&&!i&&(a(7,i=!0),a(2,n=e.front),a(3,o=e.back))},[r,d,n,o,function(t){i&&A(d,(s=>{s.front=t.detail.doc.toJSON()}))},function(t){i&&A(d,(s=>{s.back=t.detail.doc.toJSON()}))},function(){const t=R(r);J(`/decks/${r}/cards/${t}/edit`)},i,e,c]}export default class extends t{constructor(t){super(),s(this,t,tt,Y,a,{deckId:0,cardId:1})}}export{Z as load};
